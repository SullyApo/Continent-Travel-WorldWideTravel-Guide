üìÅ components/auth/register.py

import streamlit as st
from services.api.auth import register_user
from services.utils.validator import validate_email, validate_password

def show_register():
    st.title("Cr√©er un compte")
    
    with st.form("register_form"):
        name = st.text_input("Nom complet", key="register_name")
        email = st.text_input("Email", key="register_email")
        password = st.text_input("Mot de passe", type="password", key="register_password")
        confirm_password = st.text_input("Confirmer le mot de passe", type="password", key="register_confirm_password")
        submit_button = st.form_submit_button("S'inscrire")
        
        if submit_button:
            if not validate_email(email):
                st.error("Email invalide")
            elif not validate_password(password):
                st.error("Le mot de passe doit contenir au moins 6 caract√®res")
            elif password != confirm_password:
                st.error("Les mots de passe ne correspondent pas")
            else:
                response = register_user(name, email, password)
                if response.get('success'):
                    st.success("Inscription r√©ussie ! Veuillez vous connecter.")
                else:
                    st.error(response.get('message', "√âchec de l'inscription"))
