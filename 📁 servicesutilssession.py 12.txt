ğŸ“ services/utils/session.py

import streamlit as st

def init_session_state():
    if 'authenticated' not in st.session_state:
        st.session_state.authenticated = False
    if 'user' not in st.session_state:
        st.session_state.user = None
    if 'use_rasa_directly' not in st.session_state:
        st.session_state.use_rasa_directly = False

def get_session(key: str, default=None):
    return st.session_state.get(key, default)

def set_session(key: str, value):
    st.session_state[key] = value

def clear_session():
    keys = list(st.session_state.keys())
    for key in keys:
        if key not in ['_runners', '_last_activity']:
            del st.session_state[key]
    init_session_state()
